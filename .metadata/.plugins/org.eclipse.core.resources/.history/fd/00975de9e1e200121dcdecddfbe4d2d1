import sys
import re
import util '''这种方式导入模块时函数前必须加模块名'''
# from util import * 这种方式导入时不需要

def main():
    outfile = open("text_out.html", 'w+')
    outfile.write('<html><head><title>...</title></head><body>')
    
    infile = open("text_input.txt", "r")
    
    title = True
    
    for block in util.blocks(infile):
#     for block in blocks(infile):
        
        if title:
            outfile.write("<h1>")
            outfile.write(block)
            outfile.write("</h1>")
            title = False
            
        else:
            outfile.write("<p>")
            outfile.write(block)
            outfile.write("</p>")
            
    outfile.write("</body></html>")
            
    outfile.close()
    infile.close()

if __name__ == "__main__":
    main()
    